

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Developer’s Guide &mdash; Siphon 0.10dev</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css?v=d2d258e8" />
      <link rel="stylesheet" type="text/css" href="_static/sg_gallery-binder.css?v=f4aeca0c" />
      <link rel="stylesheet" type="text/css" href="_static/sg_gallery-dataframe.css?v=2082cf3c" />
      <link rel="stylesheet" type="text/css" href="_static/sg_gallery-rendered-html.css?v=1277b6f3" />
      <link rel="stylesheet" type="text/css" href="_static/theme_override.css?v=4e1f738f" />

  
    <link rel="canonical" href="https://unidata.github.io/siphon/latest/developerguide.html"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=82662543"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contributing" href="CONTRIBUTING.html" />
    <link rel="prev" title="IGRA2 Upper Air Data Request" href="examples/upperair/IGRA2_Request.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Siphon
              <img src="_static/siphon_150x150.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installguide.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">The Siphon API</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/index.html">Siphon Examples</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Developer’s Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requirements">Requirements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#conda">Conda</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#making-changes">Making Changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#versioning">Versioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#code-style">Code Style</a></li>
<li class="toctree-l2"><a class="reference internal" href="#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#other-tools">Other Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="#releasing">Releasing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="citing.html">Citing Siphon</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Siphon</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          
<div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Developer’s Guide</li>
    <li class="source-link">
        
            
                <a href="https://github.com/Unidata/siphon/edit/main/docs/developerguide"
                   class="fa fa-github"> Improve this page</a>
            
        
    </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="developer-s-guide">
<h1>Developer’s Guide<a class="headerlink" href="#developer-s-guide" title="Link to this heading"></a></h1>
<section id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>pytest</p></li>
<li><p>flake8</p></li>
<li><p>sphinx &gt;= 1.3</p></li>
<li><p>sphinx-rtd-theme &gt;= 0.1.7</p></li>
<li><p>IPython &gt;= 3.1</p></li>
<li><p>pandoc (not a python package)</p></li>
</ul>
<section id="conda">
<h3>Conda<a class="headerlink" href="#conda" title="Link to this heading"></a></h3>
<p>Settings up a development environment in Siphon is as easy as (from the
base of the repository):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">env</span> <span class="n">create</span>
<span class="n">conda</span> <span class="n">develop</span> <span class="o">-</span><span class="n">n</span> <span class="n">devel</span> <span class="o">.</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">environment.yml</span></code> contains all of the configuration needed to easily
set up the environment, called <code class="docutils literal notranslate"><span class="pre">devel</span></code>. The second line sets up conda to
run directly out of the git repository.</p>
</section>
</section>
<section id="making-changes">
<h2>Making Changes<a class="headerlink" href="#making-changes" title="Link to this heading"></a></h2>
<p>The changes to the Siphon source (and documentation) should be made via GitHub pull requests
against <code class="docutils literal notranslate"><span class="pre">main</span></code>, even for those with administration rights. While it’s tempting to make
changes directly to <code class="docutils literal notranslate"><span class="pre">main</span></code> and push them up, it is better to make a pull request so that
others can give feedback. If nothing else, this gives a chance for the automated tests to run
on the PR. This can eliminate “brown paper bag” moments with buggy commits on the main branch.</p>
<p>During the Pull Request process, before the final merge, it’s a good idea to rebase the branch
and squash together smaller commits. It’s not necessary to flatten the entire branch, but it
can be nice to eliminate small fixes and get the merge down to logically arranged commit. This
can also be used to hide sins from history–this is the only chance, since once it hits
<code class="docutils literal notranslate"><span class="pre">main</span></code>, it’s there forever!</p>
</section>
<section id="versioning">
<h2>Versioning<a class="headerlink" href="#versioning" title="Link to this heading"></a></h2>
<p>To manage identifying the version of the code, Siphon relies upon <code class="docutils literal notranslate"><span class="pre">setuptools_scm</span></code>.
It takes the current version of
the source from git tags and any additional commits. For development, the version will have a
string like <code class="docutils literal notranslate"><span class="pre">0.1.1+76.g136e37b.dirty</span></code>, which comes from <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">describe</span></code>. This version means
that the current code is 76 commits past the 0.1.1 tag, on git hash <code class="docutils literal notranslate"><span class="pre">136e37b</span></code>, with local
changes on top (indicated by <code class="docutils literal notranslate"><span class="pre">dirty</span></code>). For a release, or non-git repo source dir, the version
will just come from the most recent tag (i.e. <code class="docutils literal notranslate"><span class="pre">v0.1.1</span></code>).</p>
<p>To make a new version, simply add a new tag with a name like <code class="docutils literal notranslate"><span class="pre">vMajor.Minor.Bugfix</span></code> and push
to GitHub. Github will add a new release with a source archive.zip file.</p>
</section>
<section id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Link to this heading"></a></h2>
<p>Unit tests are the lifeblood of the project, as it ensures that we can continue to add and
change the code and stay confident that things have not broken. Running the tests requires
<code class="docutils literal notranslate"><span class="pre">pytest</span></code>, which is easily available through <code class="docutils literal notranslate"><span class="pre">conda</span></code> or <code class="docutils literal notranslate"><span class="pre">pip</span></code>. Running the tests can be
done by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span> <span class="n">tests</span>
</pre></div>
</div>
<p>This gives you the option of passing a path to the directory with tests to
run, which can speed running only the tests of interest when doing development. For instance,
to only run the tests in the <code class="docutils literal notranslate"><span class="pre">siphon/cdmr</span></code> directory, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span> <span class="n">siphon</span><span class="o">/</span><span class="n">cdmr</span>
</pre></div>
</div>
</section>
<section id="code-style">
<h2>Code Style<a class="headerlink" href="#code-style" title="Link to this heading"></a></h2>
<p>Siphon uses the Python code style outlined in <a class="reference external" href="https://peps.python.org/pep-0008/">PEP8</a>. For better or worse, this is what the majority
of the Python world uses. The one deviation is that line length limit is 95 characters. 80 is a
good target, but some times longer lines are needed.</p>
<p>While the authors are no fans of blind adherence to style and so-called project “clean-ups”
that go through and correct code style, Siphon has adopted this style from the outset.
Therefore, it makes sense to enforce this style as code is added to keep everything clean and
uniform. To this end, part of the automated testing for Siphon checks style. To check style
locally within the source directory you can use the <code class="docutils literal notranslate"><span class="pre">flake8</span></code> tool. Running it from the root
of the source directory is as easy as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">flake8</span> <span class="n">siphon</span>
</pre></div>
</div>
</section>
<section id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Link to this heading"></a></h2>
<p>Siphon’s documentation is built using sphinx &gt;= 1.4. API documentation is automatically
generated from docstrings, written using the
<a class="reference external" href="https://numpydoc.readthedocs.io/en/latest/format.html#docstring-standard">NumPy docstring standard</a>.
There are also examples in the <code class="docutils literal notranslate"><span class="pre">examples/</span></code> directory.</p>
<p>The documentation is hosted on <a class="reference external" href="https://unidata.github.io/siphon">GitHub Pages</a>. The docs are
built automatically from <code class="docutils literal notranslate"><span class="pre">main</span></code> with every build on GitHub Actions; every merged PR will
have the built docs upload to GitHub Pages. As part of the build, the documentation is also
checked with <code class="docutils literal notranslate"><span class="pre">doc8</span></code>. To see what the docs will look like, you also need to install the
<code class="docutils literal notranslate"><span class="pre">sphinx-rtd-theme</span></code> package.</p>
</section>
<section id="other-tools">
<h2>Other Tools<a class="headerlink" href="#other-tools" title="Link to this heading"></a></h2>
<p>Continuous integration is performed by
<a class="reference external" href="https://github.com/Unidata/siphon/actions">GitHub Actions</a>.
This integration runs the unit tests on Linux for all supported versions of Python, as well
as runs against the minimum package versions, using PyPI packages. This also runs against
a (non-exhaustive) matrix of python versions on macOS and Windows. In addition to these tests,
GitHub actions also builds the documentation and runs the examples across multiple platforms
and Python versions, as well as checks for any broken web links. <code class="docutils literal notranslate"><span class="pre">flake8</span></code> (along with a
variety of plugins found in <code class="docutils literal notranslate"><span class="pre">ci-dev/linting_requirements.txt</span></code>) and <code class="docutils literal notranslate"><span class="pre">ruff</span></code> are also run
against the code to check formatting using another job on GitHub Actions. As part of this
linting job, the docs are also checked using the <code class="docutils literal notranslate"><span class="pre">doc8</span></code> tool, and spelling is checked using
<code class="docutils literal notranslate"><span class="pre">codespell</span></code>. Configurations for these are in a variety of files in <code class="docutils literal notranslate"><span class="pre">.github/workflows</span></code>.</p>
<p>Test coverage is monitored by <a class="reference external" href="https://codecov.io/github/Unidata/siphon">codecov.io</a>.</p>
</section>
<section id="releasing">
<h2>Releasing<a class="headerlink" href="#releasing" title="Link to this heading"></a></h2>
<p>To create a new release:</p>
<ol class="arabic simple">
<li><p>Go to the GitHub page and make a new release. The tag should be a sensible version number,
like v1.0.0. Add a name (can just be the version) and add some notes on what the big
changes are.</p></li>
<li><p>Do a pull locally to grab the new tag. This will ensure that <code class="docutils literal notranslate"><span class="pre">setuptools_scm</span></code> will give
you the proper version.</p></li>
<li><p>(optional) Perform a <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clean</span> <span class="pre">-f</span> <span class="pre">-x</span> <span class="pre">-d</span></code> from the root of the repository. This will
<strong>delete</strong> everything not tracked by git, but will also ensure clean source distribution.
<code class="docutils literal notranslate"><span class="pre">MANIFEST.in</span></code> is set to include/exclude mostly correctly, but could miss some things.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">build</span></code> (this requires that <code class="docutils literal notranslate"><span class="pre">build</span></code> is installed).</p></li>
<li><p>Upload using <code class="docutils literal notranslate"><span class="pre">twine</span></code>: <code class="docutils literal notranslate"><span class="pre">twine</span> <span class="pre">upload</span> <span class="pre">dist/*</span></code>, assuming the <code class="docutils literal notranslate"><span class="pre">dist/</span></code> directory contains
only files for this release. This upload process will include any changes to the <code class="docutils literal notranslate"><span class="pre">README</span></code>
as well as any updated flags from <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code>.</p></li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="examples/upperair/IGRA2_Request.html" class="btn btn-neutral float-left" title="IGRA2 Upper Air Data Request" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="CONTRIBUTING.html" class="btn btn-neutral float-right" title="Contributing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2008–2025, Siphon Developers. Development is supported by NSF Unidata and the National Science Foundation.
      <span class="lastupdated">Last updated on Jul 02, 2025 at 19:28:07.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-92978945-1', 'auto');
  ga('send', 'pageview');

</script>
     


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>