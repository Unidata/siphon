<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TDS Radar Query Service &mdash; Siphon 0.9</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_override.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-rendered-html.css" type="text/css" />
    <link rel="canonical" href="https://unidata.github.io/siphon/latest/examples/Radar_Server_Level_3.html"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Basic ACIS Web Services Usage" href="acis/Basic_Overview.html" />
    <link rel="prev" title="THREDDS Catalog" href="Basic_Usage.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Siphon
            <img src="../_static/siphon_150x150.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.9
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installguide.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">The Siphon API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Siphon Examples</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#general-examples">General Examples</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Basic_Usage.html">THREDDS Catalog</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">TDS Radar Query Service</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#acis-web-services">ACIS Web Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#ncss">NCSS</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#national-data-buoy-center-ndbc">National Data Buoy Center (NDBC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#upper-air">Upper Air</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developerguide.html">Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing Siphon</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Siphon</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          
<div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Siphon Examples</a> &raquo;</li>
      <li>TDS Radar Query Service</li>
    <li class="source-link">
        
            
                
                
                <a href="https://github.com/Unidata/siphon/issues/new?title=Suggested%20improvement%20for%20examples/Radar_Server_Level_3&body=Please%20describe%20what%20could%20be%20improved%20about%20this%20page%20or%20the%20typo/mistake%20that%20you%20found%3A"
                   class="fa fa-github"> Improve this page</a>
            
        
    </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-examples-radar-server-level-3-py"><span class="std std-ref">here</span></a>
to download the full example code</p>
</div>
<section class="sphx-glr-example-title" id="tds-radar-query-service">
<span id="sphx-glr-examples-radar-server-level-3-py"></span><h1>TDS Radar Query Service<a class="headerlink" href="#tds-radar-query-service" title="Permalink to this headline">¶</a></h1>
<p>Use Siphon to get NEXRAD Level 3 data from a TDS.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">siphon.cdmr</span> <span class="kn">import</span> <span class="n">Dataset</span>
<span class="kn">from</span> <span class="nn">siphon.radarserver</span> <span class="kn">import</span> <a href="../api/radarserver.html#siphon.radarserver.get_radarserver_datasets" title="siphon.radarserver.get_radarserver_datasets" class="sphx-glr-backref-module-siphon-radarserver sphx-glr-backref-type-py-function"><span class="n">get_radarserver_datasets</span></a><span class="p">,</span> <a href="../api/radarserver.html#siphon.radarserver.RadarServer" title="siphon.radarserver.RadarServer" class="sphx-glr-backref-module-siphon-radarserver sphx-glr-backref-type-py-class"><span class="n">RadarServer</span></a>
</pre></div>
</div>
<p>First, point to the top-level thredds radar server accessor to find what datasets are
available.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="../api/catalog.html#siphon.catalog.Dataset" title="siphon.catalog.Dataset" class="sphx-glr-backref-module-siphon-catalog sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ds</span></a> <span class="o">=</span> <a href="../api/radarserver.html#siphon.radarserver.get_radarserver_datasets" title="siphon.radarserver.get_radarserver_datasets" class="sphx-glr-backref-module-siphon-radarserver sphx-glr-backref-type-py-function"><span class="n">get_radarserver_datasets</span></a><span class="p">(</span><span class="s1">&#39;http://thredds.ucar.edu/thredds/&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><a href="../api/catalog.html#siphon.catalog.Dataset" title="siphon.catalog.Dataset" class="sphx-glr-backref-module-siphon-catalog sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ds</span></a><span class="p">))</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>[&#39;NEXRAD Level II Radar for Case Study CCS039&#39;, &#39;NEXRAD Level II Radar from IDD&#39;, &#39;NEXRAD Level III Radar for Case Study CCS039&#39;, &#39;NEXRAD Level III Radar from IDD&#39;, &#39;TDWR Level III Radar from IDD&#39;]
</pre></div>
</div>
<p>Now create an instance of RadarServer to point to the appropriate
radar server access URL. This is pulled from the catalog reference url.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">url</span></a> <span class="o">=</span> <a href="../api/catalog.html#siphon.catalog.Dataset" title="siphon.catalog.Dataset" class="sphx-glr-backref-module-siphon-catalog sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ds</span></a><span class="p">[</span><span class="s1">&#39;NEXRAD Level III Radar from IDD&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">follow</span><span class="p">()</span><span class="o">.</span><span class="n">catalog_url</span>
<a href="../api/radarserver.html#siphon.radarserver.RadarServer" title="siphon.radarserver.RadarServer" class="sphx-glr-backref-module-siphon-radarserver sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">rs</span></a> <span class="o">=</span> <a href="../api/radarserver.html#siphon.radarserver.RadarServer" title="siphon.radarserver.RadarServer" class="sphx-glr-backref-module-siphon-radarserver sphx-glr-backref-type-py-class"><span class="n">RadarServer</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">url</span></a><span class="p">)</span>
</pre></div>
</div>
<p>Look at the variables available in this dataset</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#set" title="builtins.set" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">rs</span><span class="o">.</span><span class="n">variables</span></a><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>{&#39;DVL&#39;, &#39;DPR&#39;, &#39;DOD&#39;, &#39;HHC&#39;, &#39;N2Q&#39;, &#39;NAU&#39;, &#39;NBX&#39;, &#39;N0C&#39;, &#39;N2K&#39;, &#39;N3Q&#39;, &#39;N3U&#39;, &#39;N3S&#39;, &#39;N1Q&#39;, &#39;NTP&#39;, &#39;N0K&#39;, &#39;N3X&#39;, &#39;N1S&#39;, &#39;NET&#39;, &#39;DPA&#39;, &#39;N0Z&#39;, &#39;NVW&#39;, &#39;NBM&#39;, &#39;N1U&#39;, &#39;PTA&#39;, &#39;DHR&#39;, &#39;EET&#39;, &#39;N2C&#39;, &#39;DU3&#39;, &#39;N1X&#39;, &#39;NBH&#39;, &#39;NCR&#39;, &#39;N1H&#39;, &#39;N1M&#39;, &#39;N2M&#39;, &#39;N0R&#39;, &#39;N2U&#39;, &#39;N3H&#39;, &#39;NAQ&#39;, &#39;OHA&#39;, &#39;N2X&#39;, &#39;NBQ&#39;, &#39;N1C&#39;, &#39;NAC&#39;, &#39;N2S&#39;, &#39;N2H&#39;, &#39;NAM&#39;, &#39;N0V&#39;, &#39;DSD&#39;, &#39;DSP&#39;, &#39;N1P&#39;, &#39;NBU&#39;, &#39;N0M&#39;, &#39;N0S&#39;, &#39;N3C&#39;, &#39;NMD&#39;, &#39;NVL&#39;, &#39;DTA&#39;, &#39;N3K&#39;, &#39;N0U&#39;, &#39;N0H&#39;, &#39;DU6&#39;, &#39;NAK&#39;, &#39;N3M&#39;, &#39;NAX&#39;, &#39;NAH&#39;, &#39;NST&#39;, &#39;N0Q&#39;, &#39;NBC&#39;, &#39;DAA&#39;, &#39;NBK&#39;, &#39;N0X&#39;, &#39;N1K&#39;}
</pre></div>
</div>
<p>Create a new query object to help request the data. Using the chaining
methods, ask for data from radar FTG (Denver) for now for the product
N0Q, which is reflectivity data for the lowest tilt. We see that when the query
is represented as a string, it shows the encoded URL.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="../api/radarserver.html#siphon.radarserver.RadarQuery" title="siphon.radarserver.RadarQuery" class="sphx-glr-backref-module-siphon-radarserver sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">query</span></a> <span class="o">=</span> <a href="../api/radarserver.html#siphon.radarserver.RadarServer.query" title="siphon.radarserver.RadarServer.query" class="sphx-glr-backref-module-siphon-radarserver sphx-glr-backref-type-py-method"><span class="n">rs</span><span class="o">.</span><span class="n">query</span></a><span class="p">()</span>
<a href="../api/radarserver.html#siphon.radarserver.RadarQuery.stations" title="siphon.radarserver.RadarQuery.stations" class="sphx-glr-backref-module-siphon-radarserver sphx-glr-backref-type-py-method"><span class="n">query</span><span class="o">.</span><span class="n">stations</span></a><span class="p">(</span><span class="s1">&#39;FTG&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">())</span><span class="o">.</span><span class="n">variables</span><span class="p">(</span><span class="s1">&#39;N0Q&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>var=N0Q&amp;time=2022-01-11T18%3A20%3A39.362063&amp;stn=FTG
</pre></div>
</div>
<p>We can use the RadarServer instance to check our query, to make
sure we have required parameters and that we have chosen valid
station(s) and variable(s)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="../api/radarserver.html#siphon.radarserver.RadarServer.validate_query" title="siphon.radarserver.RadarServer.validate_query" class="sphx-glr-backref-module-siphon-radarserver sphx-glr-backref-type-py-method"><span class="n">rs</span><span class="o">.</span><span class="n">validate_query</span></a><span class="p">(</span><a href="../api/radarserver.html#siphon.radarserver.RadarQuery" title="siphon.radarserver.RadarQuery" class="sphx-glr-backref-module-siphon-radarserver sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">query</span></a><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
<p>Make the request, which returns an instance of TDSCatalog. This
handles parsing the catalog</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="../api/catalog.html#siphon.catalog.TDSCatalog" title="siphon.catalog.TDSCatalog" class="sphx-glr-backref-module-siphon-catalog sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">catalog</span></a> <span class="o">=</span> <a href="../api/radarserver.html#siphon.radarserver.RadarServer.get_catalog" title="siphon.radarserver.RadarServer.get_catalog" class="sphx-glr-backref-module-siphon-radarserver sphx-glr-backref-type-py-method"><span class="n">rs</span><span class="o">.</span><span class="n">get_catalog</span></a><span class="p">(</span><a href="../api/radarserver.html#siphon.radarserver.RadarQuery" title="siphon.radarserver.RadarQuery" class="sphx-glr-backref-module-siphon-radarserver sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">query</span></a><span class="p">)</span>
</pre></div>
</div>
<p>We can look at the datasets on the catalog to see what data we found by the query. We
find one NIDS file in the return.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><a href="../api/catalog.html#siphon.catalog.DatasetCollection" title="siphon.catalog.DatasetCollection" class="sphx-glr-backref-module-siphon-catalog sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">catalog</span><span class="o">.</span><span class="n">datasets</span></a><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>[&#39;Level3_FTG_N0Q_20220111_1814.nids&#39;]
</pre></div>
</div>
<p>We can pull that dataset out of the dictionary and look at the available access URLs.
We see URLs for OPeNDAP, CDMRemote, and HTTPServer (direct download).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="../api/catalog.html#siphon.catalog.Dataset" title="siphon.catalog.Dataset" class="sphx-glr-backref-module-siphon-catalog sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ds</span></a> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><a href="../api/catalog.html#siphon.catalog.DatasetCollection" title="siphon.catalog.DatasetCollection" class="sphx-glr-backref-module-siphon-catalog sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">catalog</span><span class="o">.</span><span class="n">datasets</span></a><span class="o">.</span><span class="n">values</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><a href="../api/catalog.html#siphon.catalog.CaseInsensitiveDict" title="siphon.catalog.CaseInsensitiveDict" class="sphx-glr-backref-module-siphon-catalog sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ds</span><span class="o">.</span><span class="n">access_urls</span></a><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>{&#39;OPENDAP&#39;: &#39;https://thredds.ucar.edu/thredds/dodsC/nexrad/level3/IDD/N0Q/FTG/20220111/Level3_FTG_N0Q_20220111_1814.nids&#39;, &#39;HTTPServer&#39;: &#39;https://thredds.ucar.edu/thredds/fileServer/nexrad/level3/IDD/N0Q/FTG/20220111/Level3_FTG_N0Q_20220111_1814.nids&#39;, &#39;CdmRemote&#39;: &#39;https://thredds.ucar.edu/thredds/cdmremote/nexrad/level3/IDD/N0Q/FTG/20220111/Level3_FTG_N0Q_20220111_1814.nids&#39;}
</pre></div>
</div>
<p>We’ll use the CDMRemote reader in Siphon and pass it the appropriate access URL.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><a href="../api/catalog.html#siphon.catalog.CaseInsensitiveDict" title="siphon.catalog.CaseInsensitiveDict" class="sphx-glr-backref-module-siphon-catalog sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ds</span><span class="o">.</span><span class="n">access_urls</span></a><span class="p">[</span><span class="s1">&#39;CdmRemote&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>The CDMRemote reader provides an interface that is almost identical to the usual python
NetCDF interface. We pull out the variables we need for azimuth and range, as well as
the data itself.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">rng</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/collections.html#collections.OrderedDict" title="collections.OrderedDict" class="sphx-glr-backref-module-collections sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data</span><span class="o">.</span><span class="n">variables</span></a><span class="p">[</span><span class="s1">&#39;gate&#39;</span><span class="p">][:]</span> <span class="o">/</span> <span class="mf">1000.</span>
<a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">az</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/collections.html#collections.OrderedDict" title="collections.OrderedDict" class="sphx-glr-backref-module-collections sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data</span><span class="o">.</span><span class="n">variables</span></a><span class="p">[</span><span class="s1">&#39;azimuth&#39;</span><span class="p">][:]</span>
<a href="https://numpy.org/doc/stable/reference/maskedarray.baseclass.html#numpy.ma.MaskedArray" title="numpy.ma.MaskedArray" class="sphx-glr-backref-module-numpy-ma sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ref</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/collections.html#collections.OrderedDict" title="collections.OrderedDict" class="sphx-glr-backref-module-collections sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data</span><span class="o">.</span><span class="n">variables</span></a><span class="p">[</span><span class="s1">&#39;BaseReflectivityDR&#39;</span><span class="p">][:]</span>
</pre></div>
</div>
<p>Then convert the polar coordinates to Cartesian</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">x</span></a> <span class="o">=</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">rng</span></a> <span class="o">*</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ufunc.html#numpy.ufunc" title="numpy.ufunc" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">np</span><span class="o">.</span><span class="n">sin</span></a><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.ufunc.html#numpy.ufunc" title="numpy.ufunc" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">np</span><span class="o">.</span><span class="n">deg2rad</span></a><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">az</span></a><span class="p">))[:,</span> <span class="kc">None</span><span class="p">]</span>
<a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">y</span></a> <span class="o">=</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">rng</span></a> <span class="o">*</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ufunc.html#numpy.ufunc" title="numpy.ufunc" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">np</span><span class="o">.</span><span class="n">cos</span></a><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.ufunc.html#numpy.ufunc" title="numpy.ufunc" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">np</span><span class="o">.</span><span class="n">deg2rad</span></a><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">az</span></a><span class="p">))[:,</span> <span class="kc">None</span><span class="p">]</span>
<a href="https://numpy.org/doc/stable/reference/maskedarray.baseclass.html#numpy.ma.MaskedArray" title="numpy.ma.MaskedArray" class="sphx-glr-backref-module-numpy-ma sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ref</span></a> <span class="o">=</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ma.array.html#numpy.ma.array" title="numpy.ma.array" class="sphx-glr-backref-module-numpy-ma sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">ma</span><span class="o">.</span><span class="n">array</span></a><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/maskedarray.baseclass.html#numpy.ma.MaskedArray" title="numpy.ma.MaskedArray" class="sphx-glr-backref-module-numpy-ma sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ref</span></a><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.ufunc.html#numpy.ufunc" title="numpy.ufunc" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">np</span><span class="o">.</span><span class="n">isnan</span></a><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/maskedarray.baseclass.html#numpy.ma.MaskedArray" title="numpy.ma.MaskedArray" class="sphx-glr-backref-module-numpy-ma sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ref</span></a><span class="p">))</span>
</pre></div>
</div>
<p>Finally, we plot them up using matplotlib.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://matplotlib.org/api/figure_api.html#matplotlib.figure.Figure" title="matplotlib.figure.Figure" class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">fig</span></a><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <a href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.subplots.html#matplotlib.pyplot.subplots" title="matplotlib.pyplot.subplots" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span></a><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<a href="https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.pcolormesh.html#matplotlib.axes.Axes.pcolormesh" title="matplotlib.axes.Axes.pcolormesh" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">pcolormesh</span></a><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">x</span></a><span class="p">,</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">y</span></a><span class="p">,</span> <a href="https://numpy.org/doc/stable/reference/maskedarray.baseclass.html#numpy.ma.MaskedArray" title="numpy.ma.MaskedArray" class="sphx-glr-backref-module-numpy-ma sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ref</span></a><span class="p">)</span>
<a href="https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.set_aspect.html#matplotlib.axes.Axes.set_aspect" title="matplotlib.axes.Axes.set_aspect" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span></a><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">,</span> <span class="s1">&#39;datalim&#39;</span><span class="p">)</span>
<a href="https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.set_xlim.html#matplotlib.axes.Axes.set_xlim" title="matplotlib.axes.Axes.set_xlim" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span></a><span class="p">(</span><span class="o">-</span><span class="mi">460</span><span class="p">,</span> <span class="mi">460</span><span class="p">)</span>
<a href="https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.set_ylim.html#matplotlib.axes.Axes.set_ylim" title="matplotlib.axes.Axes.set_ylim" class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"><span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span></a><span class="p">(</span><span class="o">-</span><span class="mi">460</span><span class="p">,</span> <span class="mi">460</span><span class="p">)</span>
</pre></div>
</div>
<img src="../_images/sphx_glr_Radar_Server_Level_3_001.png" srcset="../_images/sphx_glr_Radar_Server_Level_3_001.png" alt="Radar Server Level 3" class = "sphx-glr-single-img"/><p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>/home/runner/work/siphon/siphon/examples/Radar_Server_Level_3.py:86: UserWarning: The input coordinates to pcolormesh are interpreted as cell centers, but are not monotonically increasing or decreasing. This may lead to incorrectly calculated cell edges, in which case, please supply explicit cell edges to pcolormesh.
  ax.pcolormesh(x, y, ref)

(-460.0, 460.0)
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  3.577 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-examples-radar-server-level-3-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../_downloads/25562a94000614f3ccf6cc96912b0ab1/Radar_Server_Level_3.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">Radar_Server_Level_3.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../_downloads/d71b8770f0ded0321b58e90012eebb8a/Radar_Server_Level_3.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">Radar_Server_Level_3.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Basic_Usage.html" class="btn btn-neutral float-left" title="THREDDS Catalog" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="acis/Basic_Overview.html" class="btn btn-neutral float-right" title="Basic ACIS Web Services Usage" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018, Siphon Contributors.
      <span class="lastupdated">Last updated on Jan 11, 2022 at 18:23:24.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-92978945-1', 'auto');
  ga('send', 'pageview');

</script>
     


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>