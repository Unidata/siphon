

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>IGRA2 Upper Air Data Request &mdash; Siphon 0.8</title>
  

  
  
  
  
    <link rel="canonical" href="https://unidata.github.io/siphon/latest/examples/upperair/IGRA2_Request.html"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
  
    <link rel="stylesheet" href="../../_static/theme_override.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Siphon 0.8" href="../../index.html"/>
        <link rel="up" title="Siphon Examples" href="../index.html"/>
        <link rel="next" title="Developer’s Guide" href="../../developerguide.html"/>
        <link rel="prev" title="Wyoming Upper Air Data Request" href="Wyoming_Request.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Siphon
          

          
            
            <img src="../../_static/siphon_150x150.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                
                  <div class="version-dropdown">
                    <select class="version-list" id="version-list">
                      <option value=''>0.8</option>
                      
                        
                          <option value="../latest">latest</option>
                        
                      
                        
                          <option value="../dev">dev</option>
                        
                      
                    </select>
                  </div>
                
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installguide.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">The Siphon API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Siphon Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#general-examples">General Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#ncss">NCSS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#national-data-buoy-center-ndbc">National Data Buoy Center (NDBC)</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#upper-air">Upper Air</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Wyoming_Request.html">Wyoming Upper Air Data Request</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">IGRA2 Upper Air Data Request</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developerguide.html">Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CONTRIBUTING.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../citing.html">Citing Siphon</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Siphon</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          
















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Siphon Examples</a> &raquo;</li>
        
      <li>IGRA2 Upper Air Data Request</li>
    
    
    <li class="source-link">
        
            
                
                
                <a href="https://github.com/Unidata/siphon/issues/new?title=Suggested%20improvement%20for%20examples/upperair/IGRA2_Request&body=Please%20describe%20what%20could%20be%20improved%20about%20this%20page%20or%20the%20typo/mistake%20that%20you%20found%3A"
                   class="fa fa-github"> Improve this page</a>
            
        
    </li>

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Click <a class="reference internal" href="#sphx-glr-download-examples-upperair-igra2-request-py"><span class="std std-ref">here</span></a> to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="igra2-upper-air-data-request">
<span id="sphx-glr-examples-upperair-igra2-request-py"></span><h1>IGRA2 Upper Air Data Request<a class="headerlink" href="#igra2-upper-air-data-request" title="Permalink to this headline">¶</a></h1>
<p>This example shows how to use siphon’s <em class="xref py py-obj">simplewebswervice</em> support to create a
query to the Integrated Global Radiosonde Archive version 2.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="kn">from</span> <span class="nn">siphon.simplewebservice.igra2</span> <span class="kn">import</span> <span class="n">IGRAUpperAir</span>
</pre></div>
</div>
<p>Create a datetime object for the sounding and string of the station identifier.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2014</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">station</span> <span class="o">=</span> <span class="s1">&#39;USM00070026&#39;</span>
</pre></div>
</div>
<p>Make the request. IGRAUpperAir returns a dataframe containing the sounding data and
a dataframe with station metadata from the sounding header.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <a href="../../api/simplewebservice.html#siphon.simplewebservice.igra2.IGRAUpperAir.request_data" title="View documentation for siphon.simplewebservice.igra2.IGRAUpperAir.request_data"><span class="n">IGRAUpperAir</span><span class="o">.</span><span class="n">request_data</span></a><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">station</span><span class="p">)</span>
</pre></div>
</div>
<p>Inspect data columns in the dataframe.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Inspect metadata from the data headers</span>
<span class="k">print</span><span class="p">(</span><span class="n">header</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Index([&#39;lvltyp1&#39;, &#39;lvltyp2&#39;, &#39;etime&#39;, &#39;pressure&#39;, &#39;pflag&#39;, &#39;height&#39;, &#39;zflag&#39;,
       &#39;temperature&#39;, &#39;tflag&#39;, &#39;relative_humidity&#39;, &#39;direction&#39;, &#39;speed&#39;,
       &#39;date&#39;, &#39;u_wind&#39;, &#39;v_wind&#39;, &#39;dewpoint&#39;],
      dtype=&#39;object&#39;)
Index([&#39;site_id&#39;, &#39;year&#39;, &#39;month&#39;, &#39;day&#39;, &#39;hour&#39;, &#39;release_time&#39;,
       &#39;number_levels&#39;, &#39;pressure_source_code&#39;, &#39;non_pressure_source_code&#39;,
       &#39;latitude&#39;, &#39;longitude&#39;, &#39;date&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
<p>Pull out a specific column of data.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;pressure&#39;</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">header</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>0      1020.95
1      1018.16
2      1003.21
3      1000.00
4       983.95
5       947.43
6       938.76
7       932.56
8       925.00
9       911.84
10      905.46
11      895.82
12      866.93
13      856.50
14      850.00
15      847.10
16      831.60
17      824.15
18      817.16
19      812.43
20      809.70
21      796.87
22      758.79
23      748.42
24      736.53
25      729.74
26      700.00
27      691.76
28      676.16
29      669.49
        ...
201        NaN
202        NaN
203        NaN
204        NaN
205        NaN
206        NaN
207        NaN
208        NaN
209        NaN
210        NaN
211        NaN
212        NaN
213        NaN
214        NaN
215        NaN
216        NaN
217        NaN
218        NaN
219        NaN
220        NaN
221        NaN
222        NaN
223        NaN
224        NaN
225        NaN
226        NaN
227        NaN
228        NaN
229        NaN
230        NaN
Name: pressure, Length: 231, dtype: float64
0    71.2889
Name: latitude, dtype: float64
</pre></div>
</div>
<p>Units are stored in a dictionary with the variable name as the key in the <em class="xref py py-obj">units</em>
attribute of the dataframe.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">header</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>{&#39;etime&#39;: &#39;second&#39;, &#39;pressure&#39;: &#39;hPa&#39;, &#39;height&#39;: &#39;meter&#39;, &#39;temperature&#39;: &#39;degC&#39;, &#39;dewpoint&#39;: &#39;degC&#39;, &#39;direction&#39;: &#39;degrees&#39;, &#39;speed&#39;: &#39;meter / second&#39;, &#39;u_wind&#39;: &#39;meter / second&#39;, &#39;v_wind&#39;: &#39;meter / second&#39;}
{&#39;release_time&#39;: &#39;second&#39;, &#39;latitude&#39;: &#39;degrees&#39;, &#39;longitude&#39;: &#39;degrees&#39;}
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">units</span><span class="p">[</span><span class="s1">&#39;pressure&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>hPa
</pre></div>
</div>
<p>Multiple records can be extracted simultaneously:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">date</span> <span class="o">=</span> <span class="p">[</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2014</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">)]</span>
<span class="n">station</span> <span class="o">=</span> <span class="s1">&#39;USM00070026&#39;</span>
<span class="n">df</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <a href="../../api/simplewebservice.html#siphon.simplewebservice.igra2.IGRAUpperAir.request_data" title="View documentation for siphon.simplewebservice.igra2.IGRAUpperAir.request_data"><span class="n">IGRAUpperAir</span><span class="o">.</span><span class="n">request_data</span></a><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">station</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="n">header</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>lvltyp1  lvltyp2  etime    ...     u_wind  v_wind  dewpoint
0        2        1      0    ...       -6.0    -3.9      -1.0
1        2        0      5    ...       -6.3    -3.1      -2.5
2        2        0     32    ...       -7.5    -0.1      -2.8
3        1        0     38    ...       -7.7    -0.3      -2.9
4        2        0     69    ...       -9.0    -1.9      -3.1

[5 rows x 16 columns]
       site_id  year         ...          longitude                date
0  USM00070026  2014         ...          -156.7833 2014-09-10 00:00:00
1  USM00070026  2014         ...          -156.7833 2014-09-10 12:00:00
2  USM00070026  2014         ...          -156.7833 2014-09-11 00:00:00
3  USM00070026  2014         ...          -156.7833 2014-09-11 12:00:00
4  USM00070026  2014         ...          -156.7833 2014-09-12 00:00:00

[5 rows x 12 columns]
</pre></div>
</div>
<p>IGRA2-Derived data can be accessed using the keyword derived=True.
This data has much more information in the headers.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <a href="../../api/simplewebservice.html#siphon.simplewebservice.igra2.IGRAUpperAir.request_data" title="View documentation for siphon.simplewebservice.igra2.IGRAUpperAir.request_data"><span class="n">IGRAUpperAir</span><span class="o">.</span><span class="n">request_data</span></a><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">station</span><span class="p">,</span> <span class="n">derived</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Inspect data columns in the dataframe.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">header</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Index([&#39;pressure&#39;, &#39;reported_height&#39;, &#39;calculated_height&#39;, &#39;temperature&#39;,
       &#39;temperature_gradient&#39;, &#39;potential_temperature&#39;,
       &#39;potential_temperature_gradient&#39;, &#39;virtual_temperature&#39;,
       &#39;virtual_potential_temperature&#39;, &#39;vapor_pressure&#39;,
       &#39;saturation_vapor_pressure&#39;, &#39;reported_relative_humidity&#39;,
       &#39;calculated_relative_humidity&#39;, &#39;u_wind&#39;, &#39;u_wind_gradient&#39;, &#39;v_wind&#39;,
       &#39;v_wind_gradient&#39;, &#39;refractive_index&#39;, &#39;date&#39;],
      dtype=&#39;object&#39;)
Index([&#39;site_id&#39;, &#39;year&#39;, &#39;month&#39;, &#39;day&#39;, &#39;hour&#39;, &#39;release_time&#39;,
       &#39;number_levels&#39;, &#39;precipitable_water&#39;, &#39;inv_pressure&#39;, &#39;inv_height&#39;,
       &#39;inv_strength&#39;, &#39;mixed_layer_pressure&#39;, &#39;mixed_layer_height&#39;,
       &#39;freezing_point_pressure&#39;, &#39;freezing_point_height&#39;, &#39;lcl_pressure&#39;,
       &#39;lcl_height&#39;, &#39;lfc_pressure&#39;, &#39;lfc_height&#39;, &#39;lnb_pressure&#39;,
       &#39;lnb_height&#39;, &#39;lifted_index&#39;, &#39;showalter_index&#39;, &#39;k_index&#39;,
       &#39;total_totals_index&#39;, &#39;cape&#39;, &#39;convective_inhibition&#39;, &#39;date&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
<p><strong>Total running time of the script:</strong> ( 1 minutes  43.634 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-examples-upperair-igra2-request-py">
<div class="sphx-glr-download docutils container">
<a class="reference download internal" href="../../_downloads/IGRA2_Request.py" download=""><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">IGRA2_Request.py</span></code></a></div>
<div class="sphx-glr-download docutils container">
<a class="reference download internal" href="../../_downloads/IGRA2_Request.ipynb" download=""><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">IGRA2_Request.ipynb</span></code></a></div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.readthedocs.io">Gallery generated by Sphinx-Gallery</a></p>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../developerguide.html" class="btn btn-neutral float-right" title="Developer’s Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Wyoming_Request.html" class="btn btn-neutral" title="Wyoming Upper Air Data Request" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Siphon Contributors.
      Last updated on Aug 14, 2018 at 21:17:04.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-92978945-1', 'auto');
  ga('send', 'pageview');

</script>
<p>Do you enjoy using Siphon?
  <a href="https://saythanks.io/to/unidata" class="btn btn-neutral" title="Installation Guide" accesskey="n">Say Thanks!</a>
</p>
     


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.8.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>